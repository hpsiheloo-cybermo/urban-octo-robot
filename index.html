<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram 1K Reactions Bot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        h1 {
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 13px;
            color: #856404;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 13px;
            color: #0c5460;
        }

        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 14px;
            color: #155724;
            display: none;
        }

        .error {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 14px;
            color: #721c24;
            display: none;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        input[type="text"],
        input[type="password"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        .input-hint {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        button {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status.connected {
            background: #d4edda;
            color: #155724;
        }

        .status.disconnected {
            background: #f8d7da;
            color: #721c24;
        }

        .status.running {
            background: #fff3cd;
            color: #856404;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .progress-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .progress-bar-container {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .progress-stat {
            text-align: center;
        }

        .progress-stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }

        .progress-stat-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .reaction-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .reaction-btn {
            padding: 15px;
            font-size: 24px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .reaction-btn:hover {
            background: #667eea;
            border-color: #667eea;
            transform: scale(1.1);
        }

        .reaction-btn.selected {
            background: #667eea;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }

        .log {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #fff;
        }

        .log-entry {
            padding: 5px 0;
            line-height: 1.6;
        }

        .log-time {
            color: #888;
            margin-right: 10px;
        }

        .log-success {
            color: #4ade80;
        }

        .log-error {
            color: #f87171;
        }

        .log-info {
            color: #60a5fa;
        }

        .log-warning {
            color: #fbbf24;
        }

        .quick-amounts {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .quick-amount-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .quick-amount-btn:hover {
            background: #667eea;
            border-color: #667eea;
            color: white;
        }

        .bot-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .bot-info h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .bot-info p {
            color: #666;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="card">
            <h1>
                ‚≠ê Telegram 1K Reactions Bot
                <span id="statusBadge" class="status disconnected">Disconnected</span>
            </h1>
            <p class="subtitle">Send up to 1000 reactions to your Telegram channel posts</p>

            <div class="warning">
                ‚ö†Ô∏è <strong>Security:</strong> Your bot token stays in your browser only. Never shared or stored externally.
            </div>

            <div class="info-box">
                ‚ÑπÔ∏è <strong>Note:</strong> Telegram has rate limits. The bot will automatically pace reactions to avoid being blocked. 1000 reactions may take 5-10 minutes.
            </div>

            <div id="successMsg" class="success"></div>
            <div id="errorMsg" class="error"></div>
        </div>

        <!-- Bot Configuration -->
        <div class="card">
            <h2 style="margin-bottom: 20px;">üîß Bot Setup</h2>
            
            <div class="form-group">
                <label for="botToken">Bot Token *</label>
                <input type="password" id="botToken" placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz">
                <div class="input-hint">Get from @BotFather</div>
            </div>

            <div class="form-group">
                <label for="channelId">Channel Username or ID *</label>
                <input type="text" id="channelId" placeholder="@mychannel or -1001234567890">
                <div class="input-hint">Your channel username or numeric ID</div>
            </div>

            <button class="btn-primary" id="connectBtn" onclick="connectBot()">üîó Connect Bot</button>
            <button class="btn-danger" id="disconnectBtn" onclick="disconnectBot()" disabled>‚ùå Disconnect</button>

            <div id="botInfo" class="bot-info">
                <h3>‚úÖ Bot Connected</h3>
                <p><strong>Bot:</strong> <span id="botName"></span> (@<span id="botUsername"></span>)</p>
                <p><strong>Channel:</strong> <span id="channelName"></span></p>
            </div>
        </div>

        <!-- Reaction Configuration -->
        <div class="card" id="reactionPanel" style="display: none;">
            <h2 style="margin-bottom: 20px;">üéØ Reaction Settings</h2>

            <div class="form-group">
                <label for="messageId">Message ID (from your post) *</label>
                <input type="number" id="messageId" placeholder="123">
                <div class="input-hint">Forward your channel message to @userinfobot to get the message ID</div>
            </div>

            <div class="form-group">
                <label for="reactionCount">Number of Reactions</label>
                <input type="number" id="reactionCount" value="1000" min="1" max="10000" placeholder="1000">
                <div class="input-hint">How many reactions to send (max 10,000)</div>
                
                <div class="quick-amounts">
                    <button class="quick-amount-btn" onclick="setReactionCount(100)">100</button>
                    <button class="quick-amount-btn" onclick="setReactionCount(500)">500</button>
                    <button class="quick-amount-btn" onclick="setReactionCount(1000)">1K</button>
                    <button class="quick-amount-btn" onclick="setReactionCount(5000)">5K</button>
                    <button class="quick-amount-btn" onclick="setReactionCount(10000)">10K</button>
                </div>
            </div>

            <div class="form-group">
                <label>Select Reaction Type</label>
                <div class="reaction-grid">
                    <button class="reaction-btn selected" onclick="selectReaction(this, '‚≠ê')" data-emoji="‚≠ê">‚≠ê</button>
                    <button class="reaction-btn" onclick="selectReaction(this, 'üëç')" data-emoji="üëç">üëç</button>
                    <button class="reaction-btn" onclick="selectReaction(this, '‚ù§Ô∏è')" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è</button>
                    <button class="reaction-btn" onclick="selectReaction(this, 'üî•')" data-emoji="üî•">üî•</button>
                    <button class="reaction-btn" onclick="selectReaction(this, 'üéâ')" data-emoji="üéâ">üéâ</button>
                    <button class="reaction-btn" onclick="selectReaction(this, 'üòç')" data-emoji="üòç">üòç</button>
                    <button class="reaction-btn" onclick="selectReaction(this, 'üëè')" data-emoji="üëè">üëè</button>
                    <button class="reaction-btn" onclick="selectReaction(this, 'üíØ')" data-emoji="üíØ">üíØ</button>
                </div>
            </div>

            <div class="form-group">
                <label for="delayMs">Delay Between Reactions (ms)</label>
                <input type="number" id="delayMs" value="100" min="50" max="5000" placeholder="100">
                <div class="input-hint">Lower = faster but higher risk of rate limit. Recommended: 100-300ms</div>
            </div>

            <div class="controls-grid">
                <button class="btn-success" id="startBtn" onclick="startReactions()">üöÄ Start Reactions</button>
                <button class="btn-danger" id="stopBtn" onclick="stopReactions()" disabled>‚èπÔ∏è Stop</button>
                <button class="btn-primary" onclick="testReaction()">üß™ Test Single Reaction</button>
            </div>

            <!-- Progress -->
            <div class="progress-container" id="progressContainer">
                <h3 style="margin-bottom: 15px; color: #333;">Progress</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
                
                <div class="progress-stats">
                    <div class="progress-stat">
                        <div class="progress-stat-number" id="sentCount">0</div>
                        <div class="progress-stat-label">Sent</div>
                    </div>
                    <div class="progress-stat">
                        <div class="progress-stat-number" id="remainingCount">0</div>
                        <div class="progress-stat-label">Remaining</div>
                    </div>
                    <div class="progress-stat">
                        <div class="progress-stat-number" id="errorCount">0</div>
                        <div class="progress-stat-label">Errors</div>
                    </div>
                    <div class="progress-stat">
                        <div class="progress-stat-number" id="speedCount">0/s</div>
                        <div class="progress-stat-label">Speed</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Log -->
        <div class="card" id="logPanel" style="display: none;">
            <h2 style="margin-bottom: 20px;">üìú Activity Log</h2>
            <div class="log" id="activityLog"></div>
        </div>
    </div>

    <script>
        let botToken = '';
        let channelId = '';
        let isConnected = false;
        let isRunning = false;
        let shouldStop = false;
        let selectedReaction = '‚≠ê';
        
        let stats = {
            sent: 0,
            errors: 0,
            total: 0
        };

        function showSuccess(message) {
            const el = document.getElementById('successMsg');
            el.textContent = '‚úÖ ' + message;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 5000);
        }

        function showError(message) {
            const el = document.getElementById('errorMsg');
            el.textContent = '‚ùå ' + message;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 8000);
        }

        function addLog(message, type = 'info') {
            const log = document.getElementById('activityLog');
            const time = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.innerHTML = `<span class="log-time">[${time}]</span> ${message}`;
            log.insertBefore(entry, log.firstChild);
            
            while (log.children.length > 100) {
                log.removeChild(log.lastChild);
            }
        }

        async function connectBot() {
            botToken = document.getElementById('botToken').value.trim();
            channelId = document.getElementById('channelId').value.trim();

            if (!botToken || !channelId) {
                showError('Please enter both bot token and channel ID');
                return;
            }

            try {
                addLog('Connecting to Telegram...', 'info');
                
                const response = await fetch(`https://api.telegram.org/bot${botToken}/getMe`);
                const data = await response.json();

                if (!data.ok) {
                    throw new Error(data.description || 'Invalid credentials');
                }

                isConnected = true;
                document.getElementById('statusBadge').className = 'status connected';
                document.getElementById('statusBadge').textContent = 'Connected';
                
                document.getElementById('botName').textContent = data.result.first_name;
                document.getElementById('botUsername').textContent = data.result.username;
                document.getElementById('channelName').textContent = channelId;
                document.getElementById('botInfo').style.display = 'block';

                document.getElementById('connectBtn').disabled = true;
                document.getElementById('disconnectBtn').disabled = false;
                document.getElementById('reactionPanel').style.display = 'block';
                document.getElementById('logPanel').style.display = 'block';

                showSuccess('Bot connected successfully!');
                addLog(`Connected: @${data.result.username}`, 'success');
                
            } catch (error) {
                showError(error.message);
                addLog('Connection failed: ' + error.message, 'error');
            }
        }

        function disconnectBot() {
            if (isRunning) {
                showError('Stop reactions before disconnecting');
                return;
            }

            isConnected = false;
            document.getElementById('statusBadge').className = 'status disconnected';
            document.getElementById('statusBadge').textContent = 'Disconnected';
            document.getElementById('botInfo').style.display = 'none';
            document.getElementById('connectBtn').disabled = false;
            document.getElementById('disconnectBtn').disabled = true;
            document.getElementById('reactionPanel').style.display = 'none';
            
            addLog('Disconnected', 'info');
            showSuccess('Bot disconnected');
        }

        function selectReaction(btn, emoji) {
            document.querySelectorAll('.reaction-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            selectedReaction = emoji;
            addLog(`Reaction changed to ${emoji}`, 'info');
        }

        function setReactionCount(count) {
            document.getElementById('reactionCount').value = count;
        }

        async function testReaction() {
            const messageId = document.getElementById('messageId').value;
            
            if (!messageId) {
                showError('Please enter a message ID');
                return;
            }

            try {
                addLog('Testing reaction...', 'info');
                
                // Note: This is a simulation as reaction API might need different parameters
                const url = `https://api.telegram.org/bot${botToken}/setMessageReaction`;
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: channelId,
                        message_id: parseInt(messageId),
                        reaction: [{type: 'emoji', emoji: selectedReaction}]
                    })
                });

                const data = await response.json();
                
                if (data.ok) {
                    showSuccess('Test reaction sent successfully!');
                    addLog(`Test reaction ${selectedReaction} sent to message ${messageId}`, 'success');
                } else {
                    throw new Error(data.description || 'Failed to send reaction');
                }
                
            } catch (error) {
                showError(error.message);
                addLog('Test failed: ' + error.message, 'error');
            }
        }

        async function startReactions() {
            const messageId = document.getElementById('messageId').value;
            const reactionCount = parseInt(document.getElementById('reactionCount').value);
            const delayMs = parseInt(document.getElementById('delayMs').value);

            if (!messageId) {
                showError('Please enter a message ID');
                return;
            }

            if (!reactionCount || reactionCount < 1) {
                showError('Please enter a valid reaction count');
                return;
            }

            isRunning = true;
            shouldStop = false;
            stats = { sent: 0, errors: 0, total: reactionCount };

            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            document.getElementById('statusBadge').className = 'status running';
            document.getElementById('statusBadge').textContent = 'Running';
            document.getElementById('progressContainer').style.display = 'block';

            addLog(`Starting ${reactionCount} reactions with ${selectedReaction}`, 'info');
            showSuccess(`Starting to send ${reactionCount} reactions...`);

            const startTime = Date.now();

            for (let i = 0; i < reactionCount; i++) {
                if (shouldStop) {
                    addLog('Stopped by user', 'warning');
                    break;
                }

                try {
                    const url = `https://api.telegram.org/bot${botToken}/setMessageReaction`;
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: channelId,
                            message_id: parseInt(messageId),
                            reaction: [{type: 'emoji', emoji: selectedReaction}],
                            is_big: false
                        })
                    });

                    const data = await response.json();
                    
                    if (data.ok) {
                        stats.sent++;
                    } else {
                        stats.errors++;
                        if (stats.errors % 10 === 0) {
                            addLog(`Error: ${data.description}`, 'error');
                        }
                    }
                    
                } catch (error) {
                    stats.errors++;
                    if (stats.errors % 10 === 0) {
                        addLog(`Error: ${error.message}`, 'error');
                    }
                }

                updateProgress(startTime);
                await sleep(delayMs);
            }

            finishReactions();
        }

        function updateProgress(startTime) {
            const percent = Math.round((stats.sent / stats.total) * 100);
            const remaining = stats.total - stats.sent;
            const elapsed = (Date.now() - startTime) / 1000;
            const speed = Math.round(stats.sent / elapsed);

            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('progressBar').textContent = percent + '%';
            document.getElementById('sentCount').textContent = stats.sent;
            document.getElementById('remainingCount').textContent = remaining;
            document.getElementById('errorCount').textContent = stats.errors;
            document.getElementById('speedCount').textContent = speed + '/s';
        }

        function finishReactions() {
            isRunning = false;
            document.getElementById('startBtn').disabled = false;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('statusBadge').className = 'status connected';
            document.getElementById('statusBadge').textContent = 'Connected';

            const message = `Completed! Sent: ${stats.sent}, Errors: ${stats.errors}`;
            addLog(message, 'success');
            showSuccess(message);
        }

        function stopReactions() {
            shouldStop = true;
            addLog('Stopping reactions...', 'warning');
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Initialize
        addLog('Ready. Connect your bot to begin.', 'info');
    </script>
</body>
</html>
